<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>More Internet Clutter | Articles by Chan-Ho Suh</title>
    <link rel="shortcut icon" type="image/png" href="http://chanhosuh.github.io/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="http://chanhosuh.github.io/favicon.ico">
    <link href="http://chanhosuh.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="More Internet Clutter Full Atom Feed" />
    <link rel="stylesheet" href="http://chanhosuh.github.io/theme/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="http://chanhosuh.github.io/theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://chanhosuh.github.io/theme/css/print.css" type="text/css" media="print" />
    <meta name="generator" content="Pelican" />
</head>
<body>
    <header>
        <nav>
            <ul>

                <li class="ephemeral selected"><a href="http://chanhosuh.github.io/author/chan-ho-suh.html">Chan-Ho Suh</a></li>
                <li><a href="/">Home</a></li>
                <li><a href="/pages/about-me.html">About Me</a></li>
                <li><a href="http://chanhosuh.github.io/archives">Blog</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="http://chanhosuh.github.io">More Internet Clutter</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Apr 30, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://chanhosuh.github.io/setting-up-a-github-pages-site-with-travis-integration.html" rel="bookmark" title="Permanent Link to &quot;Setting up a GitHub Pages site with Travis integration&quot;">Setting up a GitHub Pages site with Travis integration</a>
                </h2>

                <p>In the spirit of "it's better to get started on something trivial than procrastinate
forever on something deep", my first post for this blog will be on
setting up a blog with <a href="https://pages.github.com">GitHub Pages</a>.  I did not find it quite trivial, 
especially since I wanted my site to build automatically via a static site generator once I pushed a blog post in Markdown to GitHub.</p>
<p>There are several steps:</p>
<ol>
<li>Set up GitHub source repo and target repo (your GitHub pages site repo)</li>
<li>Copy <a href="http://getpelican.com">Pelican</a> config files to your GitHub source repo</li>
<li>Set up <a href="http://travis-ci.org">Travis</a> on source repo</li>
</ol>
<p>For future reference, my GitHub source repo is <a href="https://github.com/chanhosuh/chanhosuh.github.io-src">here</a> and <a href="https://github.com/chanhosuh/chanhosuh.github.io">this</a> is the target (site) repo.</p>
<p>As you will see, the approach is to push your Markdown files to the source repo, which will be configured for Travis CI.  Travis will then detect the changes, run a build using a static site generator, and deploy the output files to your target repo, which will then reflect at your GitHub Pages domain.</p>
<h3>Set up GitHub repositories</h3>
<p>Setting up a GitHub Pages site is pretty simple.  Create a repo called <code>&lt;GitHub username&gt;.github.io</code>.  This will create what GitHub calls an individual/organization site (the other option is to create a project site; I won't describe how to do this).  Check that the settings for this repo has GitHub Pages activated. Once you've done it, you will have a domain like mine, <GitHub username>.github.io.  This site will be built from the files in this repo, which I will call the <em>target</em> repo.</p>
<p>Now create another repo.  For simplicity, I will assume that like me, you call it <code>&lt;GitHub username&gt;.github.io-src</code>.  This is the <em>source</em> repo.  </p>
<h3>Copy Pelican files to source repo</h3>
<p>Now that your repositories are set up, you need a static site generator.
GitHub recommends Jekyll, which is what I initially tried.  Ultimately, I decided to 
go with <a href="http://getpelican.com">Pelican</a>.  Since my goal in using a static
site generator was to have an overall understanding of how my site was being built 
and served, it appealed to me that Pelican is written in Python (Jekyll is written in Ruby).</p>
<p>Technically, you don't need to install Pelican.  What you need to push to your repository are the following files generated by a Pelican install: <code>pelicanconf.py</code>, <code>publishconf.py</code>, and <code>Makefile</code>.  The Travis deploy script (see below) will need these files to configure Pelican.  Also, the deploy assumes your content is in a <code>content</code> directory.</p>
<h3>Configuring Travis CI for source repo</h3>
<p>First go to the <a href="https://travis-ci.org/">Travis site</a>, login with your GitHub account and turn on your source repo so Travis is watching it.  Disable build on pull.  </p>
<p>Once you've set up your GitHub commits to trigger a Travis build, you need to create a <code>.travis.yml</code> file at the root of your repo.  <a href="https://github.com/chanhosuh/chanhosuh.github.io-src/blob/master/.travis.yml">Mine</a> is a pretty generic one.  Note it does a pip install of <code>pelican</code> and <code>markdown</code>.  I also use a different theme than the default; the brute-force method I used was to just copy over all the theme files to the repo and in the deploy script (see below) use the <code>pelican-themes</code> command to install it.</p>
<p>Note the yml has the line: <code>after_success: ./deploy.sh</code>.  This deploy script should be executable.  I stole the <a href="https://github.com/chanhosuh/chanhosuh.github.io-src/blob/master/deploy.sh">deploy script</a> from <a href="danielfrg.github.io-source">Daniel Rodriguez's setup</a>, since he has already done the hard work of figuring out the details of environment variables and so forth.  What his script does is clone the target repo to the Travis build server, copy over the Pelican output, and then git push it all. </p>
<p>The last part of the yml has an encrypted key used by Travis to push to your target repo.  So you need to go into your user settings --&gt; developer settings --&gt; Personal access tokens, where you will be able to "generate new token" and allow "Travis CI" to use it with <a href="https://docs.travis-ci.com/user/github-oauth-scopes/">various permissions</a>.  You can't use this token directly as it will be exposed in your public source directory, so you need to encrypt it.  Travis provides a <a href="https://docs.travis-ci.com/user/encryption-keys/">tool</a> to do this, but unfortunately(?) you need to install it through a ruby gem.  </p>
<p>Assuming you already have Ruby gems installed:</p>
<div class="highlight"><pre><span></span><span class="n">gem</span> <span class="n">install</span> <span class="n">travis</span>
</pre></div>


<p>Now from the root of your source repo, run:</p>
<div class="highlight"><pre><span></span><span class="n">travis</span> <span class="n">encrypt</span> <span class="n">GH_TOKEN</span><span class="o">=</span><span class="n">your_token</span> <span class="c1">--add</span>
</pre></div>


<p>where <code>your_token</code> is your authentication token.</p>
<p>The <code>--add</code> option adds something like the following to your <code>.travis.yml</code></p>
<div class="highlight"><pre><span></span><span class="n">env</span><span class="o">:</span>
  <span class="n">global</span><span class="o">:</span>
  <span class="o">-</span> <span class="n">secure</span><span class="o">:</span> <span class="n">ebuvzbMDBTB6EWTZ5ngz3</span><span class="o">+</span><span class="n">GzBJSWLTE</span><span class="o">+</span><span class="n">tEgpzw</span><span class="o">+</span><span class="n">wpIkc3G2B</span><span class="sr">/0MJ2dVNfiVViynw3iHWnJjta1C4AW+afpE8JR1qnkQyjhyO6i4501gBHaKCeHshEhjySTpw7W4aKH2JHWYryY50AI0+9MIjwuhlfB4U3MEY5G391qLNKOUuwXx3wlsnsgnRZ1FBANJHFdpLWI16Hnm7EytpiJmCt74iVTe0fzpwRRn2AbH1RGNIPF8T1xB0vMx5bRXu9XIQnYu/4q4unVyrPTQOY2SNu5qvS/UajZaycw3DpCSdlcgbw2XTC6DQQDlWV23aXKG8H8HWQwHQoHvK4HXzil4+mstqZPv5EuBZIHoBH7F1qpnnGiuAJRDlakOraPVKIaE22yF+ory55SnGJuZg95vSmAMeKfwnMPd3DGND5ipCskaINrWbvCtwLcyPHwLo+e5DpdS7RJsMreN7wdyVjdQO2y+WEWk1pEkiC/IGnO/ItoU+ZwmHKGgjA9rGFJrW7iwdhw3rVZnA/hroh6TXQhat8qnXOdrrbzW5tag4ObjXLmiCmD1UNzcJmJvs2XxLIytHujXXwX+FNGAylQ52C9WsMxIsCT0ErjVHjKM2AuQERn0t7nO40gf0jMJ2kX+TyHer++9GzJJTZxR/mhsA3q1Kn6rC5qkxUMzXL/</span><span class="n">K4PPAX6pPfheg</span><span class="o">=</span>
</pre></div>


<p>Phew, so you've set up Travis!  Now all that's left to do is post some content, tweak Pelican....</p>
<h4>Useful references</h4>
<ul>
<li><a href="danielfrg.github.io-source">Daniel Rodriguez's source repo</a></li>
<li><a href="https://siongui.github.io/2016/01/05/deploy-website-by-pelican-travis-ci-github-pages/">Siong-Ui Te - Theory and Practice</a></li>
</ul>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://chanhosuh.github.io/setting-up-a-github-pages-site-with-travis-integration.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="http://chanhosuh.github.io/category/blogging-github-pages.html" rel="tag">blogging, GitHub Pages</a>
                </div>
            </article>            <h4 class="date">Feb 08, 2016</h4>

            <article class="post">
                <h2 class="title">
                    <a href="http://chanhosuh.github.io/12-coins-problem.html" rel="bookmark" title="Permanent Link to &quot;12 coins problem&quot;">12 coins problem</a>
                </h2>

                <p>You are given 12 coins that look identical and a pair of scales.
One of the coins is fake and has a different weight than the
others.  Your challenge is to use the scales at most three times
to determine the fake coin and whether it is light or heavier
than a real coin.  You can weigh any group of coins against another
using the scales to see which is heavier or if they balance, but
you cannot measure the actual weights of the coins.</p>
<p>I'd run across this problem in interview brainteaser collections
but always found it mysterious: why 12 coins?  And how does this
work out so beautifully?</p>
<p>It turns out there is a nice way to think about it from the 
viewpoint of information theory.  In information theory, information
is measured in <em>bits</em>, and your ability to learn is limited by the
amount of information available.  </p>
<p>In our problem, the system we are learning about consists of 12 coins,
with one being fake.  Since the fake coin can be one of 12 coins and
the fake coin can have two states, light or heavy, there are 24
possible states of the system.</p>
<p>Each weighing gives one of three results (left side is heavier, 
right side is heavier, both sides balance), a <em>trinary</em> "bit" of 
information (called a <strong>trit</strong>).  Since there are three weighings, 
our entire weighing process gives us three trits of information.
In other words, we have 3^3 (=27) possible outcomes from our weighing
process.</p>
<p>Now we can see why <em>three</em> weighings are used in the problem.  Two 
would have been impossible.  That would result in only 3^2 (=9) 
outcomes, and we have 24 possible states.  There is no way we can 
"invert" our process and deduce which state we started with.  With 
three weighings, we have a chance, and four, we might guess makes 
the problem too easy.  </p>
<p>At this point, it helps to think more formally about the problem.
Our weighing process with the three weighings are effectively an
encoding scheme that codes the starting state of the system into
a three letter codeword in the alphabet {O, L, R}.  "O" means 
the two sides balance, "L" means the left side is heavier, and "R"
means the right side is heavier.  Examples of codewords are then 
ORL, LLR, ROO.  </p>
<p>As we noted before, there are 27 possible codewords.  In order for
the problem to have a solution, we must be able to invert the encoding
("decode uniquely") to obtain the starting state.</p>
<p>For example, we might get OLL as a resulting codeword of the
weighing process.  This means the first weighing
balanced the sides. In particular, the fake coin is off the scale.
The second weighing pushed down the left side.  This means that
(assuming the fake is heavier) the fake coin was on the left side
of the scale.  The last weighing did the same, so the fake coin
was again on the left side.  If the fake is lighter, then the
conclusion is it was on the right sides for the last two weighings.</p>
<p>Whether the fake is heavier or lighter, it's clear the three
weighings give a codeword which then corresponds exactly to a fake
coin which was placed according to the codeword (or its reflection).
Can there be another coin that "shadows" the fake coin, or "mirrors"
it?  Nope, not if our solution actually works, because then we 
wouldn't be able to deduce which coin is fake!</p>
<p>Thus if we have the entire set of resulting 
codewords for a working solution, that tells us the solution itself!
Each codeword tells us where to place a corresponding coin on each
weighing.  That corresponding coin is the one that is revealed as 
fake if the codeword were to result. </p>
<p>After thinking very carefully, it is clear we need to have the
following:</p>
<ol>
<li>Every coin is placed on the scale for at least one
   weighing.</li>
<li>No two coins are placed at the same location for every
   weighing.</li>
<li>No two coins are placed on opposite sides and taken off
   the scale together for every weighing.</li>
<li>Each weighing places the same number of coins on each
   side of the scale.</li>
</ol>
<p>The last is necessary if our procedure is to always find the fake coin
since the fake coin can be any weight, as long as it is not equal to
a real coin.  </p>
<p>The above conditions means the set of resulting codewords satisfy 
the following:</p>
<ol>
<li>It does not contain OOO</li>
<li>It does not contain a pair of words that are reflections
   of each other, e.g. LRR is the reflection of RLL, OLO is
   the reflection of ORO, etc.</li>
<li>For each position 1-3, there are equal numbers of L's and
   R's.</li>
</ol>
<p>Once we find such a set of codewords, each codeword gives the
location of the coin for each weighing:</p>
<ul>
<li>O means "off the scale"</li>
<li>L means "on the left side of the scale"</li>
<li>R means "on the right side of the scale"</li>
</ul>
<p>In particular, in order for there to be
enough codewords to cover the 24 system states (and keeping in mind
that we place the same number on each side of the scale) we must place
four coins on each side of the scale at each weighing.  Any less and
there wouldn't be enough codewords.  And there are not enough codewords
to allow 5 or more to be weighed on each side: given the first letter,
there are only 9 words starting with R, and 9 starting with L, half of
them are reflections and not allowed, so we really only have 9 allowable
words to determine which coins get placed on a scale.  But only an even
number of coins can be placed on the scale (half on each side), so the
most we can have is 4 on each side at a time.</p>
<p>So from an information theoretic viewpoint, we see very clearly why we
must divide up the 12 coins into three groups of four, something which
may strike us as very mysterious when using trial-and-error to derive
the solution!</p>
<p>Another nice thing about viewing the problem this way, is it lets us
generalize to more coins and more weighings.  If we allow four weighings,
what's the largest number of coins for which we can determine the fake
coin?  With three weighings, we saw that 12 is the optimal number.
Anymore, and we simply would not have enough codewords.</p>
<p>For four weighings, we have 3^4 = 81 possible codewords.  As before
OOOO is not allowed, so that leaves us with 80 possibilities.  Again,
there are 40 reflection pairs, so we can have at most 40 coins.  Note
that 27 codewords (modulo reflections) are allowed for coins being
placed on the scale, and 13 for off the scale.  Again the restriction
that we allow only equal numbers to be placed on each side of the scale
means that 13 is the largest that can be placed on each side.  So we
have 26 coins being placed on a scale at once and that leaves 13 for
off the scale, for a total of 39 coins.</p>
<p>Going through this reasoning more rigorously and keeping track of the
arithmetic, we conclude that the number of coins can be at most
(3^n - 3) / 2 where n is the number of weighings.</p>
<ul>
<li>n = 3,  # coins = 12</li>
<li>n = 4,  # coins = 39</li>
<li>n = 5,  # coins = 120</li>
<li>etc..</li>
</ul>
                <div class="clear"></div>

                <div class="info">
                    <a href="http://chanhosuh.github.io/12-coins-problem.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="http://chanhosuh.github.io/category/brainteasers-interview-questions-information-theory.html" rel="tag">brainteasers, interview questions, information theory</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="http://chanhosuh.github.io/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>